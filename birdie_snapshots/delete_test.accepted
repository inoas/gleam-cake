---
version: 1.1.7
title: delete_test
file: ./test/cake_test/delete_test.gleam
test_name: delete_test
---
#(
  DeleteQuery(Delete(
    NoDeleteModifier,
    DeleteTable("owners"),
    DeleteUsing([FromTable("cats")]),
    Joins([
      InnerJoin(
        JoinTable("dogs"),
        "dogs",
        WhereComparison(
          WhereColumnValue("dogs.name"),
          Equal,
          WhereColumnValue("cats.name"),
        ),
      ),
    ]),
    AndWhere([
      WhereComparison(
        WhereColumnValue("owners.name"),
        Equal,
        WhereParamValue(StringParam("Alice")),
      ),
      WhereComparison(
        WhereColumnValue("cats.owner_id"),
        Equal,
        WhereColumnValue("owners.id"),
      ),
    ]),
    Returning(["owners.id"]),
    NoEpilog,
    NoComment,
  )),
  DeleteQuery(Delete(
    NoDeleteModifier,
    DeleteTable("owners"),
    NoDeleteUsing,
    NoJoins,
    WhereComparison(
      WhereColumnValue("owners.name"),
      Equal,
      WhereParamValue(StringParam("Alice")),
    ),
    Returning(["owners.id"]),
    NoEpilog,
    NoComment,
  )),
  DeleteQuery(Delete(
    NoDeleteModifier,
    DeleteTable("owners"),
    DeleteUsing([
      FromTable("owners"),
      FromTable("cats"),
    ]),
    Joins([
      InnerJoin(
        JoinTable("dogs"),
        "dogs",
        WhereComparison(
          WhereColumnValue("dogs.name"),
          Equal,
          WhereColumnValue("cats.name"),
        ),
      ),
    ]),
    AndWhere([
      WhereComparison(
        WhereColumnValue("owners.name"),
        Equal,
        WhereParamValue(StringParam("Alice")),
      ),
      WhereComparison(
        WhereColumnValue("cats.owner_id"),
        Equal,
        WhereColumnValue("owners.id"),
      ),
    ]),
    NoReturning,
    NoEpilog,
    NoComment,
  )),
  DeleteQuery(Delete(
    NoDeleteModifier,
    DeleteTable("owners"),
    DeleteUsing([
      FromTable("owners"),
      FromTable("cats"),
    ]),
    Joins([
      InnerJoin(
        JoinTable("dogs"),
        "dogs",
        WhereComparison(
          WhereColumnValue("dogs.name"),
          Equal,
          WhereColumnValue("cats.name"),
        ),
      ),
    ]),
    AndWhere([
      WhereComparison(
        WhereColumnValue("owners.name"),
        Equal,
        WhereParamValue(StringParam("Alice")),
      ),
      WhereComparison(
        WhereColumnValue("cats.owner_id"),
        Equal,
        WhereColumnValue("owners.id"),
      ),
    ]),
    NoReturning,
    NoEpilog,
    NoComment,
  )),
)